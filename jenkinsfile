pipeline { 
    agent any 
    stages { 
        stage('Build') { 
            steps { 
                echo 'Building...' 
            } 
            post { 
                success { 
                    emailext(
                        to: 'nimeshmakevitage@gmail.com', 
                        subject: 'Build Status Email: Build Successful', 
                        body: 'The build was successful!\n\nCheck the attached log for details.', 
                        attachLog: true  // Attach the build log
                    )
                }
                failure {
                    emailext(
                        to: 'nimeshmakevitage@gmail.com', 
                        subject: 'Build Status Email: Build Failed', 
                        body: 'The build failed.\n\nCheck the attached log for details.', 
                        attachLog: true  // Attach the build log on failure as well
                    )
                }
            } 
        } 
        stage("Test"){ 
            steps{ 
                echo "Testing..." 
            } 
        } 
        stage("Deploy"){ 
            steps{ 
                echo "Deploying..." 
            } 
        } 
        stage("Complete"){ 
            steps{ 
                echo "Completed." 
            } 
        } 
    } 
}
